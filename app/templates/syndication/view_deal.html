{% extends "base.html" %}

{% block title %}{{ deal.title }}{% endblock %}

{% block content %}
<h1 class="text-3xl font-bold mb-8" data-aos="fade-down">{{ deal.title }}</h1>

<div class="bg-white rounded-lg shadow-md p-6 mb-8" data-aos="fade-up">
    <p class="text-gray-600 mb-4">{{ deal.description }}</p>
    <p class="mb-2"><strong>Target Amount:</strong> ${{ "%.2f"|format(deal.target_amount) }}</p>
    <p class="mb-2"><strong>Current Amount:</strong> ${{ "%.2f"|format(deal.current_amount) }}</p>
    <p class="mb-4"><strong>Progress:</strong> {{ "%.2f"|format(deal.current_amount / deal.target_amount * 100) }}%</p>
    <div class="w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700 mb-4">
        <div class="bg-blue-600 h-2.5 rounded-full" style="width: {{ deal.current_amount / deal.target_amount * 100 }}%"></div>
    </div>
</div>

<div class="bg-white rounded-lg shadow-md p-6 mb-8" data-aos="fade-up" data-aos-delay="200">
    <h2 class="text-2xl font-semibold mb-4">Invest in this Deal</h2>
    <form action="{{ url_for('syndication.invest', deal_id=deal.id) }}" method="POST" class="space-y-4">
        <div>
            <label for="amount" class="block text-sm font-medium text-gray-700">Investment Amount ($)</label>
            <input type="number" step="0.01" id="amount" name="amount" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
        </div>
        <button type="submit" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition duration-300">Invest</button>
    </form>
</div>

<div class="bg-white rounded-lg shadow-md p-6 mb-8" data-aos="fade-up" data-aos-delay="400">
    <h2 class="text-2xl font-semibold mb-4">Upload Document</h2>
    <form action="{{ url_for('syndication.upload_document', deal_id=deal.id) }}" method="POST" enctype="multipart/form-data" class="space-y-4">
        <div>
            <label for="document" class="block text-sm font-medium text-gray-700">Select Document</label>
            <input type="file" id="document" name="document" required class="mt-1 block w-full">
        </div>
        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition duration-300">Upload</button>
    </form>
</div>

<div class="bg-white rounded-lg shadow-md p-6" data-aos="fade-up" data-aos-delay="600">
    <h2 class="text-2xl font-semibold mb-4">Share Deal</h2>
    <form action="{{ url_for('syndication.share_deal', deal_id=deal.id) }}" method="POST" class="space-y-4">
        <div>
            <label for="email" class="block text-sm font-medium text-gray-700">Recipient Email</label>
            <input type="email" id="email" name="email" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
        </div>
        <button type="submit" class="bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 transition duration-300">Share</button>
    </form>
</div>
{% endblock %}